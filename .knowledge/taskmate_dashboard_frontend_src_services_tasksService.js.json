{"is_source_file": true, "format": "JavaScript", "description": "This file is a JavaScript module that provides a client-side service layer for managing tasks using a Supabase backend. It includes definitions of data types, helper functions to build queries, and exported functions for CRUD operations on tasks, as well as retrieving task metrics.", "external_files": ["../lib/supabaseClient"], "external_methods": ["supabase.from", "supabase.from().select", "supabase.from().ilike", "supabase.from().eq", "supabase.from().insert", "supabase.from().update", "supabase.from().delete", "supabase.from().single", "supabase.from().lt", "supabase.from().neq"], "published": ["listTasks", "getTask", "createTask", "updateTask", "deleteTask", "getMetrics"], "classes": [], "methods": [{"name": "buildListQuery(params = {})", "description": "Builds a Supabase query for listing tasks with optional filters and ordering.", "scope": "", "scopeKind": ""}, {"name": "throwIfError(error, context)", "description": "Throws an Error if the provided error object is non-null, including context in the message.", "scope": "", "scopeKind": ""}, {"name": "listTasks(params = {})", "description": "Fetches a list of tasks with optional filters and sorting.", "scope": "", "scopeKind": ""}, {"name": "getTask(id)", "description": "Retrieves a single task by its ID.", "scope": "", "scopeKind": ""}, {"name": "createTask(payload)", "description": "Creates a new task with specified properties.", "scope": "", "scopeKind": ""}, {"name": "updateTask(id, payload)", "description": "Updates an existing task identified by ID with provided changes.", "scope": "", "scopeKind": ""}, {"name": "deleteTask(id)", "description": "Deletes a task by ID.", "scope": "", "scopeKind": ""}, {"name": "getMetrics()", "description": "Retrieves task metrics including counts per status, tasks due today, and overdue tasks.", "scope": "", "scopeKind": ""}], "calls": ["supabase.from('tasks').select('*')", "supabase.from('tasks').select('*').eq('id', id)", "supabase.from('tasks').insert(insertPayload).select('*').single()", "supabase.from('tasks').update(updatable).eq('id', id).select('*').single()", "supabase.from('tasks').delete().eq('id', id)", "supabase.from('tasks').select('status')", "supabase.from('tasks').select('id', { count: 'exact', head: true }).eq('due_date', todayStr)", "supabase.from('tasks').select('id', { count: 'exact', head: true }).lt('due_date', todayStr).neq('status', 'done')"], "search-terms": ["tasksService", "supabase", "CRUD", "task metrics", "query builder", "filters", "sorting", "JavaScript", "task management"], "state": 2, "file_id": 16, "knowledge_revision": 37, "git_revision": "", "ctags": [{"_type": "tag", "name": "buildListQuery", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^function buildListQuery(params = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(params = {})"}, {"_type": "tag", "name": "createTask", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^export async function createTask(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "deleteTask", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^export async function deleteTask(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^    description: payload.description ?? null,$/", "language": "JavaScript", "kind": "property", "scope": "createTask.insertPayload", "scopeKind": "class"}, {"_type": "tag", "name": "due_date", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^    due_date: payload.due_date ?? null,$/", "language": "JavaScript", "kind": "property", "scope": "createTask.insertPayload", "scopeKind": "class"}, {"_type": "tag", "name": "getMetrics", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^export async function getMetrics() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getTask", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^export async function getTask(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "insertPayload", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^  const insertPayload = {$/", "language": "JavaScript", "kind": "class", "scope": "createTask", "scopeKind": "class"}, {"_type": "tag", "name": "listTasks", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^export async function listTasks(params = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(params = {})"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^    status: payload.status ?? 'todo',$/", "language": "JavaScript", "kind": "property", "scope": "createTask.insertPayload", "scopeKind": "class"}, {"_type": "tag", "name": "throwIfError", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^function throwIfError(error, context) {$/", "language": "JavaScript", "kind": "function", "signature": "(error, context)"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^    title: payload.title,$/", "language": "JavaScript", "kind": "property", "scope": "createTask.insertPayload", "scopeKind": "class"}, {"_type": "tag", "name": "updateTask", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^export async function updateTask(id, payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, payload)"}], "hash": "31a8fd1ef92c39393c5c61ba098e299e", "format-version": 4, "code-base-name": "taskmate_dashboard_frontend", "filename": "taskmate_dashboard_frontend/src/services/tasksService.js", "fields": [{"name": "description: payload.description ?? null,", "scope": "createTask.insertPayload", "scopeKind": "class", "description": "unavailable"}, {"name": "due_date: payload.due_date ?? null,", "scope": "createTask.insertPayload", "scopeKind": "class", "description": "unavailable"}, {"name": "status: payload.status ?? 'todo',", "scope": "createTask.insertPayload", "scopeKind": "class", "description": "unavailable"}, {"name": "title: payload.title,", "scope": "createTask.insertPayload", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"37": ""}]}