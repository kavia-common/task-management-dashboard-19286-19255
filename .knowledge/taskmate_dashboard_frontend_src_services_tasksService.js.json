{"is_source_file": true, "format": "JavaScript", "description": "This file contains task management service functions for interacting with a Supabase backend, including CRUD operations, metrics calculations, schema checks, and real-time subscriptions.", "external_files": ["../lib/supabaseClient"], "external_methods": ["supabase.from", "supabase.channel", "supabase.removeChannel"], "published": ["listTasks", "getTask", "createTask", "updateTask", "deleteTask", "getMetrics", "subscribeToTasks", "isRealtimeAvailable"], "classes": [], "methods": [{"name": "buildListQuery(params = {})", "description": "Constructs a Supabase query for listing tasks with optional filters and ordering.", "scope": "", "scopeKind": ""}, {"name": "throwIfError(error, context)", "description": "Handles Supabase errors by throwing an Error with context information.", "scope": "", "scopeKind": ""}, {"name": "checkColumnExists(columnName)", "description": "Checks whether a specific column exists in the 'tasks' table by attempting a header select.", "scope": "", "scopeKind": ""}, {"name": "listTasks(params = {})", "description": "Lists tasks with optional filters and sorting.", "scope": "", "scopeKind": ""}, {"name": "getTask(id)", "description": "Retrieves a task by its ID.", "scope": "", "scopeKind": ""}, {"name": "createTask(payload)", "description": "Creates a new task with the provided payload.", "scope": "", "scopeKind": ""}, {"name": "updateTask(id, payload)", "description": "Updates an existing task with fields provided in payload.", "scope": "", "scopeKind": ""}, {"name": "deleteTask(id)", "description": "Deletes a task by ID.", "scope": "", "scopeKind": ""}, {"name": "getMetrics()", "description": "Fetches task metrics like status counts, due today, and overdue tasks with schema flexibility.", "scope": "", "scopeKind": ""}, {"name": "subscribeToTasks(onEvent)", "description": "Creates a real-time subscription to changes in the tasks table, invoking the callback on events.", "scope": "", "scopeKind": ""}, {"name": "isRealtimeAvailable()", "description": "Heuristic check for whether Supabase realtime features are configured.", "scope": "", "scopeKind": ""}], "calls": ["supabase.from('tasks').select('*')", "supabase.from('tasks').eq('status', status)", "supabase.from('tasks').ilike('title', `%${search}%`)", "supabase.from('tasks').select('status')", "supabase.from('tasks').select('id', { count: 'exact', head: true })", "supabase.from('tasks').select('status')", "supabase.from('tasks').select('id', { count: 'exact', head: true })", "supabase.from('tasks').select('id', { count: 'exact', head: true })", "supabase.from('tasks').lt('due_date', todayStr)", "supabase.from('tasks').select('*').eq('id', id).single()", "supabase.from('tasks').insert(insertPayload).select('*')", "supabase.from('tasks').update(updatable).eq('id', id).select('*')", "supabase.from('tasks').delete().eq('id', id)", "supabase.channel('realtime:tasks').on('postgres_changes', ...).subscribe()", "process.env.REACT_APP_SUPABASE_URL", "process.env.REACT_APP_SUPABASE_KEY"], "search-terms": ["tasks", "CRUD", "metrics", "realtime", "schema check", "Supabase", "task management"], "state": 2, "file_id": 16, "knowledge_revision": 90, "git_revision": "3861950ef4fe83bf2c554324abd74735b1137f65", "revision_history": [{"37": ""}, {"62": "a21e6aac4e7addcae8d1b65aeb65ac88bb633655"}, {"90": "3861950ef4fe83bf2c554324abd74735b1137f65"}], "ctags": [{"_type": "tag", "name": "buildListQuery", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^function buildListQuery(params = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(params = {})"}, {"_type": "tag", "name": "checkColumnExists", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^async function checkColumnExists(columnName) {$/", "language": "JavaScript", "kind": "function", "signature": "(columnName)"}, {"_type": "tag", "name": "createTask", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^export async function createTask(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "deleteTask", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^export async function deleteTask(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^    description: payload.description ?? null,$/", "language": "JavaScript", "kind": "property", "scope": "createTask.insertPayload", "scopeKind": "class"}, {"_type": "tag", "name": "due_date", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^    due_date: payload.due_date ?? null,$/", "language": "JavaScript", "kind": "property", "scope": "createTask.insertPayload", "scopeKind": "class"}, {"_type": "tag", "name": "getMetrics", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^export async function getMetrics() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getTask", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^export async function getTask(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "insertPayload", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^  const insertPayload = {$/", "language": "JavaScript", "kind": "class", "scope": "createTask", "scopeKind": "class"}, {"_type": "tag", "name": "isRealtimeAvailable", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^export function isRealtimeAvailable() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listTasks", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^export async function listTasks(params = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(params = {})"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^    status: payload.status ?? 'todo',$/", "language": "JavaScript", "kind": "property", "scope": "createTask.insertPayload", "scopeKind": "class"}, {"_type": "tag", "name": "subscribeToTasks", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^export function subscribeToTasks(onEvent) {$/", "language": "JavaScript", "kind": "function", "signature": "(onEvent)"}, {"_type": "tag", "name": "throwIfError", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^function throwIfError(error, context) {$/", "language": "JavaScript", "kind": "function", "signature": "(error, context)"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^    title: payload.title,$/", "language": "JavaScript", "kind": "property", "scope": "createTask.insertPayload", "scopeKind": "class"}, {"_type": "tag", "name": "updateTask", "path": "/home/kavia/workspace/code-generation/task-management-dashboard-19286-19255/taskmate_dashboard_frontend/src/services/tasksService.js", "pattern": "/^export async function updateTask(id, payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, payload)"}], "hash": "154a9f13098dcfbd57dc81c4de75b8ac", "format-version": 4, "code-base-name": "taskmate_dashboard_frontend", "filename": "taskmate_dashboard_frontend/src/services/tasksService.js", "fields": [{"name": "description: payload.description ?? null,", "scope": "createTask.insertPayload", "scopeKind": "class", "description": "unavailable"}, {"name": "due_date: payload.due_date ?? null,", "scope": "createTask.insertPayload", "scopeKind": "class", "description": "unavailable"}, {"name": "status: payload.status ?? 'todo',", "scope": "createTask.insertPayload", "scopeKind": "class", "description": "unavailable"}, {"name": "title: payload.title,", "scope": "createTask.insertPayload", "scopeKind": "class", "description": "unavailable"}]}